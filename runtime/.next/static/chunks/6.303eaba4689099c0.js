"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{8006:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var a=t(5155),s=t(2115),l=t(4274),o=t(2619),n=t.n(o),u=t(5239),i=t(63);function c(e){var{id:r,data:t=[]}=e,o=Array.isArray(t)?t:[],{t:c}=(0,l.Bd)(),d=(0,i.useRouter)(),[h,p]=(0,s.useState)(""),[x,f]=(0,s.useState)(!1),[m,v]=(0,s.useState)(-1),w=(0,s.useRef)(null),b=(0,s.useRef)(null),g=(0,s.useRef)(null),y=(0,s.useMemo)(()=>{var e=h.trim().toLowerCase();return e?o.filter(r=>{var t;return null==(t=r.titulo)?void 0:t.toLowerCase().includes(e)}).slice(0,10):[]},[o,h]);(0,s.useEffect)(()=>{var e=e=>{g.current&&(g.current.contains(e.target)||(f(!1),v(-1)))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);var k=e=>{var r="tours/".concat(e.slug);f(!1),v(-1),d.push(r)},j=()=>{var e=h.trim();if(e){var r=o.find(r=>{var t;return(null==(t=r.titulo)?void 0:t.toLowerCase())===e.toLowerCase()});r?k(r):d.push("/buscar?q=".concat(encodeURIComponent(e)))}};return(0,a.jsxs)("div",{id:r,className:"relative z-[1300] w-full",ref:g,children:[(0,a.jsxs)("div",{className:"flex w-full items-center bg-white/95 backdrop-blur rounded-full shadow-2xl ring-1 ring-white/40 overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative flex-1 min-w-0",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",width:"20",height:"20","aria-hidden":"true",children:[(0,a.jsx)("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,a.jsx)("line",{x1:"16.65",y1:"16.65",x2:"21",y2:"21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),(0,a.jsx)("input",{ref:w,type:"text",className:"bg-transparent w-full h-12 md:h-14 md:text-xl text-lg text-JisaGris/80 placeholder-JisaGris/30 pl-12 pr-4 outline-none",placeholder:c("header.buscar-tour","buscar tour"),"aria-label":c("header.buscar-tour","buscar tour"),role:"combobox","aria-expanded":x,"aria-autocomplete":"list","aria-controls":"search-suggestions",value:h,onChange:e=>{p(e.target.value),f(!0),v(-1)},onKeyDown:e=>{x||"ArrowDown"!==e.key&&"ArrowUp"!==e.key||f(!0),"ArrowDown"===e.key?(e.preventDefault(),v(e=>e+1>=y.length?0:e+1)):"ArrowUp"===e.key?(e.preventDefault(),v(e=>e-1<0?y.length-1:e-1)):"Enter"===e.key?x&&m>=0&&y[m]?(e.preventDefault(),k(y[m])):j():"Escape"===e.key&&(f(!1),v(-1))},onFocus:()=>{y.length&&f(!0)}})]}),(0,a.jsx)("button",{type:"button",onClick:j,className:"mx-2 md:mx-3 rounded-full px-5 md:px-7 h-10 md:h-11 bg-JisaCyan text-white font-semibold hover:opacity-90 disabled:opacity-50",children:c("header.buscar","buscar")})]}),x&&y.length>0&&(0,a.jsx)("ul",{id:"search-suggestions",ref:b,role:"listbox",className:"absolute left-0 right-0 mt-2 z-[1400] bg-white rounded-2xl shadow-2xl ring-1 ring-slate-200 overflow-auto max-h-80",children:y.map((e,r)=>{var t,s,l,o="tours/".concat(e.slug),i=r===m;return(0,a.jsxs)("li",{role:"option","aria-selected":i,className:["px-4 py-2 flex items-center gap-3 border-b last:border-0 cursor-pointer",i?"bg-slate-50":"hover:bg-slate-50"].join(" "),onMouseEnter:()=>v(r),onMouseDown:e=>e.preventDefault(),onClick:()=>k(e),children:[e.foto_principal?(0,a.jsx)(u.default,{src:e.foto_principal,alt:null!=(t=e.titulo)?t:"",width:40,height:40,className:"w-10 h-10 rounded object-cover"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded bg-gray-200"}),(0,a.jsx)(n(),{href:o,className:"truncate",children:e.titulo})]},"".concat(null!=(l=null!=(s=e.slug)?s:e.titulo)?l:"s","-").concat(r))})})]})}}}]);